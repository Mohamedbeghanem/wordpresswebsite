(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1103:function(t,e){t.exports=function(t,e,a,n){for(var r=t.length,o=a+(n?1:-1);n?o--:++o<r;)if(e(t[o],o,t))return o;return-1}},1107:function(t,e){t.exports=function(t){return t!=t}},1108:function(t,e){t.exports=function(t,e,a){for(var n=a-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}},1117:function(t,e,a){var n=a(1103),r=a(1107),o=a(1108);t.exports=function(t,e,a){return e==e?o(t,e,a):n(t,r,a)}},1124:function(t,e){var a=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return a.test(t)}},1148:function(t,e,a){"use strict";var n=a(77),r=a(0),o=a(1),c=a(3),i=a(109);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){m(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function m(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var n=a.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"left",m=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],b=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},f=b.carts_nav,p=Object(n.a)(),d=p.setActiveMultiple,O=p.resetHeaderMenu,g=p.setL2NavType,w=p.setL2Nav,j=p.setBackLink,y=p.setBackLinkLabel,_=p.setL2Title,v=p.setL2NavAlign,h=p.setPageHeader,k=p.setPageCountData,E=Object(i.a)(),N=E.getPageCountData,S=N();return Object(r.useEffect)((function(){O(),g("menu"),m&&w(f),d({leftNav:"carts",rightNav:t}),s&&j(s),a&&_(a),y(Object(o.__)("All Carts","wp-marketing-automations")),v(l),!Object(c.Sb)()&&_(Object(o.__)("Cart Tracking","wp-marketing-automations")),h(Object(o.__)("Carts","wp-marketing-automations")),k(u(u({},S),e))}),[t,e]),!0}},1536:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a(1148),o=a(9),c=a.n(o),i=a(3),s=a(1),l=a(5),u=a(146),m=a(6),b=a.n(m),f=a(60),p=a(61),d=a(19),O=a(54),g=a(2),w=a(8),j=a(33),y=(a(46),a(1095)),_=a(1150),v=a(40),h=a(12);function k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var n,r,o,c,i=[],s=!0,l=!1;try{if(o=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;s=!1}else for(;!(s=(n=o.call(a)).done)&&(i.push(n.value),i.length!==e);s=!0);}catch(t){l=!0,r=t}finally{try{if(!s&&null!=a.return&&(c=a.return(),Object(c)!==c))return}finally{if(l)throw r}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return E(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?E(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=Array(e);a<e;a++)n[a]=t[a];return n}var N={1:Object(s.__)("Active","wp-marketing-automations"),2:Object(s.__)("Failed","wp-marketing-automations"),3:Object(s.__)("Paused","wp-marketing-automations"),4:Object(s.__)("Waiting","wp-marketing-automations"),5:Object(s.__)("Terminated","wp-marketing-automations"),6:Object(s.__)("Reattempt","wp-marketing-automations")},S={1:"bwf-tags bwf-tag-green",2:"bwf-tags bwf-tag-red",3:"bwf-tags bwf-tag-red",4:"bwf-tags bwf-tag-orange",5:"bwf-tags bwf-tag-red",6:"bwf-tags bwf-tag-blue"},P=function(t){var e,a=t.tasks,r=t.isLoading,o=k(Object(n.useState)(""),2),c=o[0],m=o[1],f=k(Object(n.useState)({}),2),p=f[0],O=f[1],E=k(Object(n.useState)(!1),2),P=E[0],A=E[1],C=[{key:"details",label:Object(s.__)("Automation","wp-marketing-automations"),cellClassName:"bwf-crm-col-contact-details",isLeftAligned:!0},{key:"startedon ",label:Object(s.__)("Started On","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m",isLeftAligned:!0},{key:"last_run",label:Object(s.__)("Last Run","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m",isLeftAligned:!0},{key:"next_last_run",label:Object(s.__)("Next Run Time","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m",isLeftAligned:!0},{key:"status",label:Object(s.__)("Status","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m",isLeftAligned:!0},{key:"journey",label:Object(s.__)("Journey","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m",isLeftAligned:!0}],L=function(t){return Object(n.createElement)(j.a,{href:"admin.php?page=autonami&path=/automation/"+t.aid,type:"bwf-crm",className:"bwf-crm-campaign-contactData-contact-link bwf-a-no-underline",key:t.aid},t.hasOwnProperty("automation_title")?t.automation_title:"-")},T=function(t){var e=t.trail,a=void 0===e?"":e;return Object(g.isEmpty)(a)?"-":Object(n.createElement)(l.Button,{isSecondary:!0,className:"bwf-btn-small is-light bwf-btn-gray",onClick:function(){Object(i.cc)()?(m(a),O(t)):A(!0)}},!Object(i.cc)()&&Object(n.createElement)(w.a,{icon:"king",size:16}),Object(s.__)("View","wp-marketing-automations"))},x=function(t){var e=t.data,a=void 0===e?{}:e;return!(!a.hasOwnProperty("type")||3!==parseInt(a.type))},D=Object(g.isEmpty)(a)?[]:a.map((function(t){return[{display:L(t),value:""},{display:t.hasOwnProperty("s_date")?Object(i.jb)(t.s_date):t.hasOwnProperty("c_date")?Object(i.jb)(t.c_date):"-",value:t.hasOwnProperty("c_date")?t.c_date:"-"},{display:(e=t,a=e.last_time,r=void 0===a?"":a,o=e.last,c=void 0===o?0:o,Object(n.createElement)("div",{className:"bwf-c-contact-details-cell"},""===r||0===parseInt(c)&&!e.hasOwnProperty("s_date")?"-":Object(n.createElement)(d.a,{justify:"justify",align:"top"},Object(n.createElement)(d.c,null,Object(i.jb)(r))))),value:""},{display:t.hasOwnProperty("e_time")&&!x(t)?Object(i.jb)(t.e_time):"-",value:"-"},{display:t.hasOwnProperty("status")&&N.hasOwnProperty(parseInt(t.status))?Object(n.createElement)("span",{className:S[t.status]},N[t.status]):Object(n.createElement)("span",{className:"bwf-tags bwf-tag-green"},Object(s.__)("Completed","wp-marketing-automations")),value:"-"},{display:T(t),value:"-"}];var e,a,r,o,c}));return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(u.a,{className:b()("bwfcrm-forms-list-table"),rows:D,headers:C,query:{paged:1},rowsPerPage:D.length>0?D.length:10,totalRows:D.length>0?D.length:10,isLoading:r,rowHeader:!0,showMenu:!1,hideHeader:"yes",emptyMessage:Object(s.__)("No Automation found","wp-marketing-automations")}),Object(i.cc)()&&!Object(g.isEmpty)(c)&&Object(n.createElement)(l.Modal,{shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1,className:"bwf-admin-modal bwf-admin-modal-no-header bwf-admin-modal-fullscreen bwf-fullsc-modal"},Object(n.createElement)("div",{className:"bwf-stretch-header-single"},Object(n.createElement)("div",{className:"bwf-modal-heading"},(e="-",Object(g.isEmpty)(p)||(e=Object(g.isEmpty)(p.f_name)&&Object(g.isEmpty)(p.l_name)?p.email:p.f_name+" "+p.l_name),e),"Â ",Object(n.createElement)("span",{className:"bwf-tags bwf-tag-light-blue"},Object(s.__)("Customer Journey","wp-marketing-automations"))),Object(n.createElement)("div",{className:"bwf-display-flex gap-24"},Object(n.createElement)(l.Button,{isSecondary:!0,className:"bwf-btn-small is-light bwf-btn-gray",onClick:function(){Object(h.l)({page:"autonami",path:"/automation/"+p.aid},"/",{})}},Object(s.__)("View Automation","wp-marketing-automations")),Object(n.createElement)("span",{onClick:function(){m(""),O({})},className:"bwf-modal-close"},Object(n.createElement)(w.a,{icon:"close",color:"#353030"})))),Object(n.createElement)(y.e,null,Object(n.createElement)(_.a,{customerData:{trail:c},isConatctTab:!0,automatonID:p.aid,hasHeader:!0}))),!Object(i.cc)()&&Object(n.createElement)(v.b,{isOpen:P,onRequestClose:function(){return A(!1)},modalContent:{isFeature:!0,featureTitle:Object(s.__)("Contact Journey","wp-marketing-automations"),proLink:Object(i.gb)("upgrade",{utm_medium:"Carts+Automations+View+Journey+Upgrade+Modal"})}}))},A=a(68),C=a(77),L=a(342),T=a(26);function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function I(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?D(Object(a),!0).forEach((function(e){M(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function M(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=x(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var n=a.call(t,e||"default");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==x(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function F(){var t,e,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",r=a.toStringTag||"@@toStringTag";function o(a,n,r,o){var s=n&&n.prototype instanceof i?n:i,l=Object.create(s.prototype);return B(l,"_invoke",function(a,n,r){var o,i,s,l=0,u=r||[],m=!1,b={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,a){return o=e,i=0,s=t,b.n=a,c}};function f(a,n){for(i=a,s=n,e=0;!m&&l&&!r&&e<u.length;e++){var r,o=u[e],f=b.p,p=o[2];a>3?(r=p===n)&&(s=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=f&&((r=a<2&&f<o[1])?(i=0,b.v=n,b.n=o[1]):f<p&&(r=a<3||o[0]>n||n>p)&&(o[4]=a,o[5]=n,b.n=p,i=0))}if(r||a>1)return c;throw m=!0,n}return function(r,u,p){if(l>1)throw TypeError("Generator is already running");for(m&&1===u&&f(u,p),i=u,s=p;(e=i<2?t:s)||!m;){o||(i?i<3?(i>1&&(b.n=-1),f(i,s)):b.n=s:b.v=s);try{if(l=2,o){if(i||(r="next"),e=o[r]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),i=1);o=t}else if((e=(m=b.n<0)?s:a.call(n,b))!==c)break}catch(e){o=t,i=1,s=e}finally{l=1}}return{value:e,done:m}}}(a,r,o),!0),l}var c={};function i(){}function s(){}function l(){}e=Object.getPrototypeOf;var u=[][n]?e(e([][n]())):(B(e={},n,(function(){return this})),e),m=l.prototype=i.prototype=Object.create(u);function b(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,B(t,r,"GeneratorFunction")),t.prototype=Object.create(m),t}return s.prototype=l,B(m,"constructor",l),B(l,"constructor",s),s.displayName="GeneratorFunction",B(l,r,"GeneratorFunction"),B(m),B(m,r,"Generator"),B(m,n,(function(){return this})),B(m,"toString",(function(){return"[object Generator]"})),(F=function(){return{w:o,m:b}})()}function B(t,e,a,n){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}(B=function(t,e,a,n){function o(e,a){B(t,e,(function(t){return this._invoke(e,a,t)}))}e?r?r(t,e,{value:a,enumerable:!n,configurable:!n,writable:!n}):t[e]=a:(o("next",0),o("throw",1),o("return",2))})(t,e,a,n)}function H(t,e,a,n,r,o,c){try{var i=t[o](c),s=i.value}catch(t){return void a(t)}i.done?e(s):Promise.resolve(s).then(n,r)}function R(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function c(t){H(o,n,r,c,i,"next",t)}function i(t){H(o,n,r,c,i,"throw",t)}c(void 0)}))}}function q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var n,r,o,c,i=[],s=!0,l=!1;try{if(o=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;s=!1}else for(;!(s=(n=o.call(a)).done)&&(i.push(n.value),i.length!==e);s=!0);}catch(t){l=!0,r=t}finally{try{if(!s&&null!=a.return&&(c=a.return(),Object(c)!==c))return}finally{if(l)throw r}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return G(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?G(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=Array(e);a<e;a++)n[a]=t[a];return n}e.default=function(t){var e=Object(n.useContext)(i.h),a=t.match.params.cartType,o=t.match.params.id,m=Object(C.a)().setActiveMultiple;Object(r.a)(a,"",Object(s.__)("Automations","wp-marketing-automations"),"admin.php?page=autonami&path=/carts/".concat(a),"left",!0);var j=q(Object(n.useState)(25),2),y=j[0],_=j[1],v=q(Object(n.useState)(0),2),k=v[0],E=v[1],N=q(Object(n.useState)(0),2),S=N[0],x=N[1],D=q(Object(n.useState)({}),2),M=D[0],B=D[1],H=q(Object(n.useState)(!1),2),G=H[0],J=H[1],V=q(Object(n.useState)({}),2),U=V[0],z=V[1],Q=q(Object(n.useState)(!1),2),$=Q[0],W=Q[1],K=q(Object(n.useState)(""),2),X=K[0],Y=K[1],Z=q(Object(n.useState)("v2"),2),tt=Z[0],et=Z[1],at=q(Object(n.useState)({status:!1,loading:!1}),2),nt=at[0],rt=at[1],ot=M.v1,ct=void 0===ot?[]:ot,it=M.v2,st=void 0===it?[]:it,lt=function(){var t=R(F().m((function t(){var e,n,r,l,u,m,b,f,p=arguments;return F().w((function(t){for(;;)switch(t.p=t.n){case 0:return e=p.length>0&&void 0!==p[0]?p[0]:{},W(!0),t.p=1,n="",e&&e.search&&(n="search=".concat(e.search)),t.n=2,c()({method:"GET",path:Object(i.B)("/carts/".concat(o,"/tasks/?offset=").concat(k,"&limit=").concat(y,"&").concat(n,"&type=").concat(a))});case 2:if((r=t.v)&&r.result){t.n=3;break}return Y(Object(s.__)("Blank response returned","wp-marketing-automations")),t.a(2);case 3:l=r.total_count,u=r.result,m=r.limit,b=r.offset,l&&x(parseInt(l)),m&&_(parseInt(m)),b&&E(parseInt(b)),u&&B(u),t.n=5;break;case 4:t.p=4,f=t.v,Y(f&&f.message?f.message:Object(s.__)("Unknown Error Occurred","wp-marketing-automations"));case 5:W(!1);case 6:return t.a(2)}}),t,null,[[1,4]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){Object(i.m)("Cart Task #"+o),lt()}),[]),Object(n.useEffect)((function(){$||(m({leftNav:"carts",rightNav:a}),Object(g.isEmpty)(st)&&!Object(g.isEmpty)(ct)&&et("v1"))}),[$]);var ut=[{key:"action",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30"},{key:"automation",label:Object(s.__)("Automation","wp-marketing-automations"),isLeftAligned:!0},{key:"actions",label:Object(s.__)("Action","wp-marketing-automations"),isLeftAligned:!0},{key:"data",label:Object(s.__)("Data","wp-marketing-automations"),isLeftAligned:!0},{key:"date",label:Object(s.__)("Date","wp-marketing-automations"),isLeftAligned:!0},{key:"status",label:Object(s.__)("Status","wp-marketing-automations"),isLeftAligned:!0},{key:"show",label:Object(s.__)("Details","wp-marketing-automations"),isLeftAligned:!0}],mt=function(t){return Object(n.createElement)("a",{href:"admin.php?page=autonami-automations&edit="+t.automation_id,className:"bwf-crm-campaign-contactData-contact-link bwf-a-no-underline",key:t.id},t.hasOwnProperty("automation_name")?t.automation_name:"-")},bt=function(t,e){E((t-1)*y),lt()},ft=function(t){return"per_page"!==t?function(){}:pt},pt=function(t){t!==y&&(_(y),lt())},dt=function(){var t=R(F().m((function t(a){var n;return F().w((function(t){for(;;)switch(t.p=t.n){case 0:if(rt({status:!0,loading:!0}),Object(g.isEmpty)(a)){t.n=5;break}return t.p=1,t.n=2,c()({path:Object(i.B)("/automations/run-tasks"),method:"POST",data:{task_ids:a}}).then((function(t){200===t.code?(rt({status:!0,success:t.message}),e(t.message),lt()):rt({status:!0,error:t.message})}));case 2:t.n=4;break;case 3:t.p=3,n=t.v,rt({status:!0,error:n.message});case 4:Object(i.Nb)(e,3e3),t.n=6;break;case 5:rt({status:!0,error:Object(s.__)("No Task Selected","wp-marketing-automations")});case 6:return t.a(2)}}),t,null,[[1,3]])})));return function(e){return t.apply(this,arguments)}}(),Ot=function(t){return Object(n.createElement)(f.a,{label:Object(s.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(e){var a=e.onToggle;return Object(n.createElement)(n.Fragment,null,"t_0"==t.status&&Object(n.createElement)(p.a,{isClickable:!0,onInvoke:function(){dt([t.id]),a()}},Object(n.createElement)(d.a,{justify:"flex-start"},Object(n.createElement)(d.c,null,Object(n.createElement)(w.a,{icon:"play"})),Object(n.createElement)(d.c,null,Object(s.__)("Run Now","wp-marketing-automations")))),Object(n.createElement)(p.a,{isClickable:!0,onInvoke:function(){rt({deleteEntityName:t.automation_name,status:!0,taskId:t.id}),a()}},Object(n.createElement)(d.a,{justify:"flex-start"},Object(n.createElement)(d.c,null,Object(n.createElement)(w.a,{icon:"trash"})),Object(n.createElement)(d.c,null,Object(s.__)("Delete","wp-marketing-automations")))))}})},gt={l_0:Object(s.__)("Failed","wp-marketing-automations"),l_1:Object(s.__)("Completed","wp-marketing-automations"),t_0:Object(s.__)("Scheduled","wp-marketing-automations"),t_1:Object(s.__)("Paused","wp-marketing-automations")},wt={l_0:"bwf-tags bwf-tag-red",l_1:"bwf-tags bwf-tag-green",t_0:"bwf-tags bwf-tag-blue",t_1:"bwf-tags bwf-tag-red"},jt=Array.isArray(ct)?ct.map((function(t){return[{display:Ot(t),value:""},{display:mt(t),value:""},{display:t.task_integration+(t.task_integration_action?" : ".concat(t.task_integration_action):""),value:""},{display:Object(n.createElement)("ul",{dangerouslySetInnerHTML:{__html:t.task_details}}),value:""},{display:Object(n.createElement)("span",{dangerouslySetInnerHTML:{__html:t.task_date}}),value:""},{display:gt[t.status]?Object(n.createElement)("span",{className:wt[t.status]},gt[t.status]):"-",value:t.status},{display:Object(n.createElement)(l.Button,{isSecondary:!0,className:"bwf-btn-small is-light bwf-btn-gray",onClick:function(){z(t),J(!0)}},Object(s.__)("View","wp-marketing-automations")),value:""}]})):[],yt=function(){var t=R(F().m((function t(){var a;return F().w((function(t){for(;;)switch(t.p=t.n){case 0:if(rt(I(I({},nt),{},{loading:!0})),!nt.hasOwnProperty("taskId")){t.n=5;break}return t.p=1,t.n=2,c()({path:Object(i.B)("/automations/tasks/"),method:"DELETE",data:{task_ids:[nt.taskId]}}).then((function(t){200==t.code&&(rt(I(I({},nt),{},{success:t.message})),e(t.message),lt())}));case 2:t.n=4;break;case 3:t.p=3,a=t.v,rt(I(I({},nt),{},{error:a.message}));case 4:Object(i.Nb)(e,3e3);case 5:return t.a(2)}}),t,null,[[1,3]])})));return function(){return t.apply(this,arguments)}}();if(X)return Object(n.createElement)(T.a,{status:"error"},X);var _t=[{type:"icon",data:{class:"bwf-pb-gap",content:Object(n.createElement)(w.a,{icon:"zero-funnel"})}},{type:"content",data:{class:"bwf-h2 bwf-pb-10 bwf-main-heading",content:Object(s.__)("No Automation is Available for the cart","wp-marketing-automations")}},{type:"content",data:{class:"bwf-h4-1 bwf-pb-gap bwf-content-desc",content:Object(s.__)("Automations will come here once contact is added to them","wp-marketing-automations")}}];return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(A.a,null),Object(n.createElement)("div",{className:"bwf-content-header-new"},Object(n.createElement)("div",{className:"bwf-content-header-left"},Object(n.createElement)("span",{className:"bwf-cursor-pointer bwfan_header_backlink",onClick:function(){Object(h.l)({page:"autonami",path:"/carts/".concat(a)},"/",{})}},Object(n.createElement)(w.a,{icon:"arrow-left",width:24,height:24})),Object(n.createElement)("div",{className:"bwf-content-header-title"},Object(s.__)("Automations","wp-marketing-automations")))),$?Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-display-flex bwf-flex-start gap-8 bwf-mb-16"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-30 bwf-w-120"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-30 bwf-w-120"})),Object(n.createElement)(u.a,{className:b()("bwfcrm-forms-list-table",{"has-search":!0}),rows:[],headers:ut,query:{paged:1},rowsPerPage:10,totalRows:10,isLoading:!0,rowHeader:!0,showMenu:!1,hideHeader:"yes"})):Object(n.createElement)(n.Fragment,null,!Object(g.isEmpty)(st)&&!Object(g.isEmpty)(ct)&&Object(n.createElement)("div",{className:"bwf-display-flex bwf-flex-start gap-8 bwf-mb-16"},Object(n.createElement)(l.Button,{isSecondary:!0,className:"bwf-btn-small "+("v2"===tt?"is-border is-blue-bg":"bwf-btn-gray"),onClick:function(){return et("v2")}},Object(s.__)("Automation V2","wp-marketing-automations")),Object(n.createElement)(l.Button,{isSecondary:!0,className:"bwf-btn-small "+("v1"===tt?"is-border is-blue-bg":"bwf-btn-gray"),onClick:function(){return et("v1")}},Object(s.__)("Automation V1","wp-marketing-automations"))),!$&&Object(g.isEmpty)(ct)&&Object(g.isEmpty)(st)?Object(n.createElement)(L.a,{data:_t}):Object(n.createElement)(n.Fragment,null,!Object(g.isEmpty)(st)&&"v2"===tt&&Object(n.createElement)(P,{tasks:st,isLoading:$}),!Object(g.isEmpty)(ct)&&"v1"===tt&&Object(n.createElement)(u.a,{className:b()("bwfcrm-forms-list-table"),rows:jt,headers:ut,query:{paged:k/y+1},rowsPerPage:$?5:y,totalRows:S,isLoading:$,onPageChange:bt,onQueryChange:ft,rowHeader:!0,showMenu:!1,hideHeader:"yes",minHeight:!0,emptyMessage:Object(s.__)("No tasks found","wp-marketing-automations")}))),Object(n.createElement)(O.a,{modalTitle:Object(s.__)("Delete Task","wp-marketing-automations"),confirmText:Object(s.__)("Are you sure you want to delete this task ?","wp-marketing-automations"),deleteEntityName:nt.deleteEntityName,confirmButtonText:Object(s.__)("Delete","wp-marketing-automations"),cancelButtonText:Object(s.__)("Cancel","wp-marketing-automations"),onConfirm:yt,isLoading:nt.loading,successMessage:nt.success,errorMessage:nt.error,onRequestClose:function(){return rt({status:!1})},isOpen:nt.status,isDelete:!0}),G&&Object(n.createElement)(l.Modal,{title:Object(s.__)("Details","wp-marketing-automations"),onRequestClose:function(){return J(!1)},className:"bwf-message-preview-modal bwf-admin-modal bwf-admin-modal-squeezy bwf-task-model",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-p-15 bwf-bb-grey"},Object(n.createElement)("div",{className:"bwf-w-150 bwf_bold bwf_align_center"},Object(s.__)("Automation","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf_align_center"},U.automation_name)),Object(n.createElement)("div",{className:"bwf-p-15 bwf-bb-grey"},Object(n.createElement)("div",{className:"bwf-w-150 bwf_bold bwf_align_center"},Object(s.__)("Event","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf_align_center"},U.automation_source+" : "+U.automation_event)),Object(n.createElement)("div",{className:"bwf-p-15 bwf-bb-grey"},Object(n.createElement)("div",{className:"bwf-w-150 bwf_bold bwf_align_center"},Object(s.__)("Action","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf_align_center"},U.task_integration+(U.task_integration_action?" : ".concat(U.task_integration_action):""))),Object(n.createElement)("div",{className:"bwf-p-15 bwf-bb-grey bwf-task-details"},Object(n.createElement)("ul",{className:"bwf_align_center",dangerouslySetInnerHTML:{__html:U.task_details}})),!Object(g.isEmpty)(U.task_message)&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-h3 bwf-pt-15"},Object(s.__)("Notes","wp-marketing-automations")),Object.entries(U.task_message).map((function(t){var e=q(t,2),a=e[0],r=e[1];return Object(n.createElement)("div",{className:"bwf-p-15",key:a},Object(n.createElement)("div",{className:"bwfcrm-task_notes_card"},r),Object(n.createElement)("div",{className:"bwfcrm-task_notes_time"},Object(n.createElement)("i",null,a)))}))))))}}}]);