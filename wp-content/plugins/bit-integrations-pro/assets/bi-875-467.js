import{h as I,u as R,r,j as a}from"./main.js";import{c as j,_ as P,a as B}from"./bi-336-181.js";import{B as L}from"./bi-230-776.js";import{S as T}from"./bi-980-944.js";import{g as M,s as A}from"./bi-171-733.js";import{h as O,c as _}from"./bi-212-844.js";import{S as w}from"./bi-481-845.js";import{I as U}from"./bi-803-734.js";import W from"./bi-1-349.js";import"./bi-648-738.js";import"./bi-993-739.js";import"./bi-212-737.js";import"./bi-811-731.js";function le({formFields:y,setFlow:p,flow:b,allIntegURL:f}){const m=I(),{formID:d}=R(),[s,n]=r.useState(!1),[t,o]=r.useState(1),[k,i]=r.useState({show:!1}),q=[{key:"LastName",label:"Last Name",required:!0},{key:"FirstName",label:"First Name",required:!1},{key:"Email",label:"Email",required:!1},{key:"Salutation",label:"Salutation",required:!1},{key:"OtherStreet",label:"Other Street",required:!1},{key:"OtherCity",label:"Other City",required:!1},{key:"Title",label:"Title",required:!1},{key:"Department",label:"Department",required:!1},{key:"MailingStreet",label:"Mailing Street",required:!1},{key:"MailingCity",label:"Mailing City",required:!1},{key:"MailingCountry",label:"Mailing Country",required:!1}],S=[{key:"LastName",label:"Last Name",required:!0},{key:"Email",label:"Email",required:!0},{key:"Company",label:"Company",required:!0},{key:"FirstName",label:"First Name",required:!1},{key:"City",label:"City",required:!1},{key:"State",label:"State",required:!1},{key:"Salutation",label:"Salutation",required:!1},{key:"Title",label:"Title",required:!1},{key:"URL",label:"URL",required:!1},{key:"Phone",label:"Phone",required:!1},{key:"Mobile",label:"Mobile",required:!1},{key:"Fax",label:"Fax",required:!1},{key:"Street",label:"Street",required:!1},{key:"Zip",label:"Zip",required:!1},{key:"Country",label:"Country",required:!1},{key:"Description",label:"Description",required:!1},{key:"LeadSource",label:"Lead source",required:!1},{key:"Industry",label:"Industry",required:!1},{key:"Rating",label:"Rating",required:!1},{key:"Revenue",label:"Revenue",required:!1},{key:"Employees",label:"Employees",required:!1}],g=[{key:"Name",label:"Account Name",required:!0},{key:"Phone",label:"Phone",required:!1},{key:"BillingStreet",label:"Billing Street",required:!1},{key:"BillingCity",label:"Billing City",required:!1},{key:"BillingState",label:"Billing State",required:!1},{key:"BillingPostalCode",label:"Billing Postal Code",required:!1},{key:"BillingCountry",label:"Billing Country",required:!1},{key:"Type",label:"Account Type",required:!1},{key:"ShippingStreet",label:"Shipping Street",required:!1},{key:"ShippingCity",label:"Shipping City",required:!1},{key:"ShippingState",label:"Shipping State",required:!1},{key:"ShippingPostalCode",label:"Shipping Postal Code",required:!1},{key:"ShippingCountry",label:"Shipping Country",required:!1},{key:"Website",label:"Website",required:!1},{key:"Industry",label:"Industry",required:!1},{key:"NumberOfEmployees",label:"Number Of Employees",required:!1},{key:"Description",label:"Description",required:!1},{key:"Rating",label:"Rating",required:!1},{key:"Site",label:"Site",required:!1},{key:"CleanStatus",label:"Clean Status",required:!1},{key:"NaicsDesc",label:"Naics Desc",required:!1},{key:"SicDesc",label:"Sic Desc",required:!1}],h=[{key:"Name",label:"Name",required:!0},{key:"Type",label:"Type",required:!1},{key:"Description",label:"Description",required:!1},{key:"Status",label:"Status",required:!1},{key:"StartDate",label:"StartDate",required:!1},{key:"EndDate",label:"EndDate",required:!1},{key:"ExpectedRevenue",label:"ExpectedRevenue",required:!1},{key:"BudgetedCost",label:"BudgetedCost",required:!1},{key:"ActualCost",label:"ActualCost",required:!1}],C=[{label:"Planned",value:"Planned"},{label:"Received",value:"Received"},{label:"Responded",value:"Responded"},{label:"Sent",value:"Sent"}],D=[{key:"Name",label:"Name",required:!0},{key:"CloseDate",label:"Close Date",required:!0},{key:"Description",label:"Description",required:!1},{key:"Amount",label:"Amount",required:!1}],N=[{key:"StartDateTime",label:"Start Date",required:!0},{key:"EndDateTime",label:"End Date",required:!0},{key:"Location",label:"Location",required:!1},{key:"Description",label:"Description",required:!1}],v=[{key:"SuppliedName",label:"Name",required:!0},{key:"SuppliedEmail",label:"Email",required:!1},{key:"SuppliedPhone",label:"Phone",required:!1},{key:"SuppliedCompany",label:"Company",required:!1},{key:"Subject",label:"Subject",required:!1},{key:"Description",label:"Description",required:!1}],[e,u]=r.useState({name:"Salesforce",type:"Salesforce",clientId:"",clientSecret:"",field_map:[{formField:"",selesforceField:""}],contactFields:q,leadFields:S,accountFields:g,campaignFields:h,campaignMemberStatus:C,opportunityFields:D,eventFields:N,caseFields:v,actions:{}});r.useEffect(()=>{window.opener&&M("salesforce")},[]);const x=["contact-create","lead-create","account-create","campaign-create","opportunity-create","event-create","case-create"].includes(e==null?void 0:e.actionName),E=l=>{if(x&&!_(e)){B.error("Please map mandatory fields !");return}o(l)},F=()=>{var l,c;if((e==null?void 0:e.actionName)==="opportunity-create")return!((l=e.actions)!=null&&l.opportunityStageId);if((e==null?void 0:e.actionName)==="event-create")return!((c=e.actions)!=null&&c.eventSubjectId);if((e==null?void 0:e.actionName)==="add-campaign-member")return!e.campaignId};return a.jsxs("div",{children:[a.jsx(j,{snack:k,setSnackbar:i}),a.jsx("div",{className:"txt-center mt-2",children:a.jsx(T,{step:3,active:t})}),a.jsx(W,{formID:d,salesforceConf:e,setSalesforceConf:u,step:t,setStep:o,isLoading:s,setIsLoading:n,setSnackbar:i}),a.jsxs("div",{className:"btcd-stp-page",style:{width:t===2&&900,height:t===2&&"auto"},children:[a.jsx(w,{formID:d,formFields:y,handleInput:l=>O(l,e,u),salesforceConf:e,setSalesforceConf:u,isLoading:s,setIsLoading:n,setSnackbar:i}),a.jsxs("button",{onClick:()=>E(3),disabled:F()||s,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[P("Next","bit-integrations"),a.jsx(L,{className:"ml-1 rev-icn"})]})]}),a.jsx(U,{step:t,saveConfig:()=>A({flow:b,setFlow:p,allIntegURL:f,navigate:m,conf:e,setIsLoading:n,setSnackbar:i})})]})}export{le as default};
