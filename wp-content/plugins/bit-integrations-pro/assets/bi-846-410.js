import{h as k,u as j,r as n,j as e}from"./main.js";import{c as I,_ as p}from"./bi-336-181.js";import{B as S}from"./bi-230-776.js";import{S as M}from"./bi-980-944.js";import{e as v}from"./bi-171-733.js";import{I as H}from"./bi-803-734.js";import N from"./bi-621-312.js";import{s as Z,h as _,c as w,r as y}from"./bi-112-757.js";import{Z as C}from"./bi-321-758.js";import"./bi-212-737.js";import"./bi-811-731.js";import"./bi-648-738.js";import"./bi-993-739.js";function K({formFields:f,setFlow:d,flow:g,allIntegURL:h}){const u=k(),{formID:r}=j(),[c,i]=n.useState(!1),[o,l]=n.useState(1),[b,s]=n.useState({show:!1}),[t,m]=n.useState({name:"Zoho Marketing Hub",type:"Zoho Marketing Hub",clientId:"",clientSecret:"",list:"",field_map:[{formField:"",zohoFormField:""}]});n.useEffect(()=>{window.opener&&Z()},[]);const x=a=>{if(a===3){if(!w(t)){s({show:!0,msg:p("Please map mandatory fields","bit-integrations")});return}t.list!==""&&t.table!==""&&t.field_map.length>0&&l(a)}else l(a),a===2&&!t.list&&y(r,t,m,i,s)};return e.jsxs("div",{children:[e.jsx(I,{snack:b,setSnackbar:s}),e.jsx("div",{className:"txt-center mt-2",children:e.jsx(M,{step:3,active:o})}),e.jsx(N,{formID:r,marketingHubConf:t,setMarketingHubConf:m,step:o,setstep:l,isLoading:c,setIsLoading:i,setSnackbar:s}),e.jsxs("div",{className:"btcd-stp-page",style:{width:o===2&&900,height:o===2&&"auto"},children:[e.jsx(C,{formID:r,formFields:f,handleInput:a=>_(a,r,t,m,i,s),marketingHubConf:t,setMarketingHubConf:m,isLoading:c,setIsLoading:i,setSnackbar:s}),e.jsxs("button",{onClick:()=>x(3),disabled:t.list===""||t.table===""||t.field_map.length<1,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[p("Next","bit-integrations"),e.jsx(S,{className:"ml-1 rev-icn"})]})]}),e.jsx(H,{step:o,saveConfig:()=>v(g,d,h,t,u,"","",i),isLoading:c})]})}export{K as default};
