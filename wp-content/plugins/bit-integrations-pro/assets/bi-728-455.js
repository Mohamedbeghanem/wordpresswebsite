var B=Object.defineProperty;var u=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var x=(a,s,e)=>s in a?B(a,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[s]=e,b=(a,s)=>{for(var e in s||(s={}))I.call(s,e)&&x(a,e,s[e]);if(u)for(var e of u(s))S.call(s,e)&&x(a,e,s[e]);return a};import{h as k,u as w,l as C,r as l,j as t}from"./main.js";import{x as N,c as y,_ as L}from"./bi-336-181.js";import{S as M}from"./bi-980-944.js";import{s as P}from"./bi-171-733.js";import{I as R}from"./bi-803-734.js";import A from"./bi-18-339.js";import{h as E,c as T,b as q}from"./bi-360-821.js";import{B as D}from"./bi-542-822.js";import"./bi-212-737.js";import"./bi-811-731.js";import"./bi-230-776.js";import"./bi-648-738.js";import"./bi-993-739.js";function tt({formFields:a,setFlow:s,flow:e,allIntegURL:h}){const g=k(),{formID:p}=w(),j=C(N),{siteURL:v}=j,[r,n]=l.useState(!1),[c,f]=l.useState(1),[F,o]=l.useState({show:!1}),[i,m]=l.useState({name:"Bit Form",type:"Bit Form",domainName:v,api_key:"",id:"",field_map:[{formField:"",BitFormMapField:""}],address_field:[],actions:{}}),_=()=>{var d;if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),(d=i.actions)!=null&&d.address&&!T(i)){o({show:!0,msg:"Please map address required fields to continue."});return}if(!q(i)){o({show:!0,msg:"Please map fields to continue."});return}i.listId!==""&&f(3)};return t.jsxs("div",{children:[t.jsx(y,{snack:F,setSnackbar:o}),t.jsx("div",{className:"txt-center mt-2",children:t.jsx(M,{step:3,active:c})}),t.jsx(A,{formID:p,bitFormConf:i,setBitFormConf:m,step:c,setstep:f,isLoading:r,setIsLoading:n,setSnackbar:o}),t.jsxs("div",{className:"btcd-stp-page",style:b({},c===2&&{width:900,height:"auto",overflow:"visible"}),children:[t.jsx(D,{formFields:a,handleInput:d=>E(d,i,m,p,n),bitFormConf:i,setBitFormConf:m,isLoading:r,setIsLoading:n,setSnackbar:o}),!i.id&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("br",{}),t.jsx("br",{})]}),t.jsxs("button",{onClick:()=>_(),disabled:i.field_map.length<2||r,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[L("Next","bit-integrations")," ","Â ",t.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),t.jsx(R,{step:c,saveConfig:()=>P({flow:e,setFlow:s,allIntegURL:h,navigate:g,conf:i,setIsLoading:n,setSnackbar:o}),isLoading:r,dataConf:i,setDataConf:m,formFields:a})]})}export{tt as default};
