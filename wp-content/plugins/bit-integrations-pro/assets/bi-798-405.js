var I=Object.defineProperty;var h=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var g=(o,t,e)=>t in o?I(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,x=(o,t)=>{for(var e in t||(t={}))M.call(t,e)&&g(o,e,t[e]);if(h)for(var e of h(t))R.call(t,e)&&g(o,e,t[e]);return o};import{h as k,u as _,r as i,j as a}from"./main.js";import{c as N,_ as b}from"./bi-336-181.js";import{S as Z}from"./bi-980-944.js";import{g as z,s as E}from"./bi-171-733.js";import{I as F}from"./bi-803-734.js";import L from"./bi-329-303.js";import{h as P,c as T}from"./bi-359-748.js";import{Z as A}from"./bi-795-749.js";import"./bi-212-737.js";import"./bi-811-731.js";import"./bi-90-750.js";import"./bi-759-751.js";import"./bi-801-752.js";import"./bi-271-730.js";import"./bi-648-738.js";import"./bi-993-739.js";function st({formFields:o,setFlow:t,flow:e,allIntegURL:C}){const v=k(),{formID:l}=_(),[p,r]=i.useState(!1),[c,f]=i.useState(1),[j,n]=i.useState({show:!1}),[u,S]=i.useState(0),[s,m]=i.useState({name:"Zoho CRM",type:"Zoho CRM",clientId:"",clientSecret:"",module:"",layout:"",field_map:[{formField:"",zohoFormField:""}],relatedlists:[],actions:{}});i.useEffect(()=>{window.opener&&z("zohoCRM")},[]);const y=()=>{E({flow:e,setFlow:t,allIntegURL:C,conf:s,navigate:v,setIsLoading:r,setSnackbar:n})},w=d=>{if(!T(s)){n({show:!0,msg:b("Please map mandatory fields","bit-integrations")});return}s.module&&s.layout&&s.field_map.length>0&&f(d)};return document.querySelector(".btcd-s-wrp").scrollTop=0,a.jsxs("div",{children:[a.jsx(N,{snack:j,setSnackbar:n}),a.jsx("div",{className:"txt-center mt-2",children:a.jsx(Z,{step:3,active:c})}),a.jsx(L,{formID:l,crmConf:s,setCrmConf:m,step:c,setstep:f,isLoading:p,setIsLoading:r,setSnackbar:n}),a.jsxs("div",{className:"btcd-stp-page",style:x({},c===2&&{width:900,height:"auto",overflow:"visible"}),children:[a.jsx(A,{tab:u,settab:S,formID:l,formFields:o,handleInput:d=>P(d,u,s,m,l,r,n),crmConf:s,setCrmConf:m,isLoading:p,setIsLoading:r,setSnackbar:n}),a.jsxs("button",{onClick:()=>w(3),disabled:s.module===""||s.layout===""||s.field_map.length<1,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[b("Next","bit-integrations")," ","Â ",a.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),a.jsx(F,{step:c,saveConfig:()=>y(),isLoading:p,dataConf:s,setDataConf:m,formFields:o})]})}export{st as default};
