var m=Object.defineProperty,y=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var h=(t,s,e)=>s in t?m(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,a=(t,s)=>{for(var e in s||(s={}))k.call(s,e)&&h(t,e,s[e]);if(_)for(var e of _(s))P.call(s,e)&&h(t,e,s[e]);return t},r=(t,s)=>y(t,F(s));import{_ as u,b as f,a as n}from"./bi-336-181.js";const p=(t,s,e)=>{const c=a({},s),{name:i}=t.target;t.target.value!==""?c[i]=t.target.value:delete c[i],e(a({},c))},S=t=>{let s=[];t.actionName==="task"&&(s=t==null?void 0:t.taskFields);const e=s==null?void 0:s.filter(c=>c.required===!0);return e.length>0?e.map(c=>({formField:"",asanaFormField:c.key})):[{formField:"",asanaFormField:""}]},A=t=>!((t!=null&&t.field_map?t.field_map.filter(e=>!e.formField||!e.asanaFormField||e.formField==="custom"&&!e.customValue||e.asanaFormField==="customFieldKey"&&!e.customFieldKey):[]).length>0),N=(t,s,e,c,i,o)=>{if(!t.api_key){e({api_key:t.api_key?"":u("Api Key can't be empty","bit-integrations")});return}e({}),o(r(a({},i),{auth:!0}));const l={api_key:t.api_key};f(l,"asana_authentication").then(d=>{if(d&&d.success){c(!0),o(r(a({},i),{auth:!1})),n.success(u("Authorized successfully","bit-integrations"));return}o(r(a({},i),{auth:!1})),n.error(u("Authorized failed, Please enter valid API key","bit-integrations"))})},q=(t,s,e)=>{e(r(a({},e),{customFields:!0}));const c={api_key:t.api_key,action:t.actionName,project_id:t.selectedProject};f(c,"asana_fetch_custom_fields").then(i=>{if(i&&i.success){s(o=>{const l=a({},o);return l.default||(l.default={}),i.data&&(l.customFields=i.data),l}),e(r(a({},e),{customFields:!1})),i.data?n.success(u("Custom fields also fetched successfully","bit-integrations")):n.error(u("No custom fields found","bit-integrations"));return}e(r(a({},e),{customFields:!1})),n.error(u("Custom fields fetching failed","bit-integrations"))})},g=(t,s,e)=>{e(r(a({},e),{Projects:!0}));const c={api_key:t.api_key,action_name:t.actionName};f(c,"asana_fetch_all_Projects").then(i=>{if(i&&i.success){const o=a({},t);i.data&&(o.Projects=i.data),s(o),e(r(a({},e),{Projects:!1})),t.actionName==="task"&&n.success(u("Projects fetched successfully","bit-integrations"));return}e(r(a({},e),{Projects:!1})),t.actionName==="task"&&n.error(u("Projects fetching failed","bit-integrations"))})},w=(t,s,e)=>{e(r(a({},e),{Sections:!0}));const c={api_key:t.api_key,selected_project:t.selectedProject};f(c,"asana_fetch_all_Sections").then(i=>{if(i&&i.success){s(o=>{const l=a({},o);return l.default||(l.default={}),i.data&&(l.Sections=i.data),l}),e(r(a({},e),{Sections:!1})),n.success(u("Sections fetched successfully","bit-integrations"));return}e(r(a({},e),{Sections:!1})),n.error(u("Sections fetching failed","bit-integrations"))})};export{g as a,w as b,A as c,q as d,N as e,S as g,p as h};
