var I=Object.defineProperty;var u=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var f=(a,e,t)=>e in a?I(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,b=(a,e)=>{for(var t in e||(e={}))S.call(e,t)&&f(a,t,e[t]);if(u)for(var t of u(e))E.call(e,t)&&f(a,t,e[t]);return a};import{h as N,u as A,r as l,j as i}from"./main.js";import{c as K,_}from"./bi-336-181.js";import{S as C}from"./bi-980-944.js";import{s as F}from"./bi-171-733.js";import{I as w}from"./bi-803-734.js";import{h as T,c as q}from"./bi-563-842.js";import{B}from"./bi-230-776.js";import L from"./bi-234-348.js";import{K as D}from"./bi-25-841.js";import"./bi-212-737.js";import"./bi-811-731.js";import"./bi-648-738.js";import"./bi-993-739.js";function Z({formFields:a,setFlow:e,flow:t,allIntegURL:g}){const h=N(),{formID:x}=A(),[r,c]=l.useState(!1),[o,d]=l.useState(1),[v,n]=l.useState({show:!1}),k=[{key:"full_name",label:"Full Name",required:!0},{key:"email",label:"Email ",required:!0},{key:"tags",label:"Tags ",required:!1}],j=[{key:"1",label:"Add Subscriber"},{key:"2",label:"Remove Subscriber"}],[s,m]=l.useState({name:"Kirim Email",type:"Kirim Email",mainAction:"",userName:"vaishak",api_key:"",field_map:[{formField:"",kirimEmailFormField:""}],subscriberFields:k,allActions:j,actions:{}}),y=p=>{setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),d(3)};return i.jsxs("div",{children:[i.jsx(K,{snack:v,setSnackbar:n}),i.jsx("div",{className:"txt-center mt-2",children:i.jsx(C,{step:3,active:o})}),i.jsx(L,{formID:x,kirimEmailConf:s,setKirimEmailConf:m,step:o,setstep:d,isLoading:r,setIsLoading:c,setSnackbar:n}),i.jsxs("div",{className:"btcd-stp-page",style:b({},o===2&&{width:900,height:"auto",overflow:"visible"}),children:[i.jsx(D,{formFields:a,handleInput:p=>T(p,s,m),kirimEmailConf:s,setKirimEmailConf:m,isLoading:r,setIsLoading:c,setSnackbar:n}),i.jsxs("button",{onClick:()=>y(),disabled:!q(s==null?void 0:s.field_map)||s.mainAction===""||r||s.mainAction==="1"&&(s.listId===""||s.listId===void 0),className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[_("Next","bit-integrations"),i.jsx(B,{className:"ml-1 rev-icn"})]})]}),i.jsx(w,{step:o,saveConfig:()=>F({flow:t,setFlow:e,allIntegURL:g,conf:s,navigate:h,setIsLoading:c,setSnackbar:n}),isLoading:r,dataConf:s,setDataConf:m,formFields:a})]})}export{Z as default};
