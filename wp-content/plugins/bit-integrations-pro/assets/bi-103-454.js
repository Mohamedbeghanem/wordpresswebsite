var k=Object.defineProperty;var d=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var f=(s,t,e)=>t in s?k(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,b=(s,t)=>{for(var e in t||(t={}))y.call(t,e)&&f(s,e,t[e]);if(d)for(var e of d(t))_.call(t,e)&&f(s,e,t[e]);return s};import{h as I,u as w,r as p,j as o}from"./main.js";import{c as N,_ as C}from"./bi-336-181.js";import{S as q}from"./bi-980-944.js";import{s as E}from"./bi-171-733.js";import{I as L}from"./bi-803-734.js";import P from"./bi-515-337.js";import{h as T,c as g}from"./bi-202-820.js";import{F as A}from"./bi-472-819.js";import"./bi-212-737.js";import"./bi-811-731.js";import"./bi-648-738.js";import"./bi-993-739.js";function W({formFields:s,setFlow:t,flow:e,allIntegURL:h}){const x=I(),{formID:m}=w(),[n,u]=p.useState(!1),[i,c]=p.useState(1),[S,r]=p.useState({show:!1}),v=[{key:"title",label:"Title",required:!0},{key:"content",label:"Content",required:!0},{key:"first_name",label:"First Name",required:!0},{key:"last_name",label:"Last Name",required:!0},{key:"email",label:"Email",required:!0}],[a,l]=p.useState({name:"Fluent Support",type:"Fluent Support",app_domain:"",siteUrl:window.location.origin,userName:"",password:"baAy 6v9v imep PUvz 0nGQ xnd4",field_map:[{formField:"",fluentSupportFormField:""}],customerId:"",fluentSupportFields:v,address_field:[],actions:{}}),j=()=>{if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),!g(a)){r({show:!0,msg:"Please map fields to continue."});return}a.listId!==""&&c(3)};return o.jsxs("div",{children:[o.jsx(N,{snack:S,setSnackbar:r}),o.jsx("div",{className:"txt-center mt-2",children:o.jsx(q,{step:3,active:i})}),o.jsx(P,{formID:m,fluentSupportConf:a,setFluentSupportConf:l,step:i,setstep:c,isLoading:n,setIsLoading:u,setSnackbar:r}),o.jsxs("div",{className:"btcd-stp-page",style:b({},i===2&&{width:900,height:"auto",overflow:"visible"}),children:[o.jsx(A,{formID:m,formFields:s,handleInput:F=>T(F,a,l),fluentSupportConf:a,setFluentSupportConf:l,isLoading:n,setIsLoading:u,setSnackbar:r}),o.jsxs("button",{onClick:()=>j(),disabled:n||a.field_map.length<1||!g(a)||!a.actions.support_staff,className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[C("Next","bit-integrations")," ","Â ",o.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),o.jsx(L,{step:i,saveConfig:()=>E({flow:e,setFlow:t,allIntegURL:h,navigate:x,conf:a,setIsLoading:u,setSnackbar:r}),isLoading:n,dataConf:a,setDataConf:l,formFields:s})]})}export{W as default};
