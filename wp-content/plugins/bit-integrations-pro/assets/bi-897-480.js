var v=Object.defineProperty;var m=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var f=(s,t,a)=>t in s?v(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,b=(s,t)=>{for(var a in t||(t={}))S.call(t,a)&&f(s,a,t[a]);if(m)for(var a of m(t))j.call(t,a)&&f(s,a,t[a]);return s};import{h as M,u as N,r as i,j as r}from"./main.js";import{c as w,_ as C,a as _}from"./bi-336-181.js";import{S as P}from"./bi-980-944.js";import{s as E}from"./bi-171-733.js";import{I as F}from"./bi-803-734.js";import L from"./bi-163-361.js";import{s as A,h as G,c as y}from"./bi-691-869.js";import{M as R}from"./bi-250-868.js";import"./bi-212-737.js";import"./bi-811-731.js";import"./bi-230-776.js";import"./bi-648-738.js";import"./bi-993-739.js";function Y({formFields:s,setFlow:t,flow:a,allIntegURL:h}){const k=M(),{formID:g}=N(),[d,c]=i.useState(!1),[l,u]=i.useState(1),[x,o]=i.useState({show:!1}),I=[{key:"Email",label:"Email",required:!0},{key:"1",label:"First Name",required:!1},{key:"2",label:"Last Name",required:!1},{key:"3",label:"Company",required:!1},{key:"4",label:"City",required:!1},{key:"5",label:"Province",required:!1},{key:"6",label:"ZIP",required:!1},{key:"7",label:"State",required:!1},{key:"8",label:"Region",required:!1},{key:"9",label:"Address",required:!1},{key:"10",label:"Gender",required:!1},{key:"11",label:"Phone",required:!1}],[e,n]=i.useState({name:"Mailup",type:"Mailup",clientId:"",clientSecret:"",allList:[],allGroup:[],listId:"",groupId:"",field_map:[{formField:"",mailupFormField:""}],staticFields:I,actions:{}});i.useEffect(()=>{window.opener&&A("mailup")},[]);const q=p=>{if(!y(e)){_.error("Please map mandatory fields");return}e.field_map.length>0&&u(p)};return document.querySelector(".btcd-s-wrp").scrollTop=0,r.jsxs("div",{children:[r.jsx(w,{snack:x,setSnackbar:o}),r.jsx("div",{className:"txt-center mt-2",children:r.jsx(P,{step:3,active:l})}),r.jsx(L,{formID:g,mailupConf:e,setMailupConf:n,step:l,setStep:u,isLoading:d,setIsLoading:c,setSnackbar:o}),r.jsxs("div",{className:"btcd-stp-page",style:b({},l===2&&{width:900,height:"auto",overflow:"visible"}),children:[r.jsx(R,{formFields:s,handleInput:p=>G(p,e,n),mailupConf:e,setMailupConf:n,isLoading:d,setIsLoading:c,setSnackbar:o}),e.listId&&r.jsxs("button",{onClick:()=>q(3),disabled:!(e!=null&&e.listId)||!y(e),className:"btn f-right btcd-btn-lg green sh-sm flx",type:"button",children:[C("Next","bit-integrations")," ","Â ",r.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),e.listId&&r.jsx(F,{step:l,saveConfig:()=>E({flow:a,setFlow:t,allIntegURL:h,navigate:k,conf:e,setIsLoading:c,setSnackbar:o}),isLoading:d,dataConf:e,setDataConf:n,formFields:s})]})}export{Y as default};
