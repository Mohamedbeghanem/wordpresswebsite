var y=Object.defineProperty;var d=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var m=(s,e,t)=>e in s?y(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,c=(s,e)=>{for(var t in e||(e={}))N.call(e,t)&&m(s,t,e[t]);if(d)for(var t of d(e))S.call(e,t)&&m(s,t,e[t]);return s};import{g as w,h as k,r as o,j as i}from"./main.js";import{c as A,_ as g}from"./bi-336-181.js";import{S as E}from"./bi-980-944.js";import{e as F}from"./bi-171-733.js";import{c as T,C as V}from"./bi-111-880.js";import _ from"./bi-620-367.js";function $(){const s=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"];let e=[];for(let t=0;t<36;t++)t===8||t===13||t===18||t===23?e[t]="-":e[t]=s[Math.ceil(Math.random()*s.length-1)];return e.join("")}var I=$,M=w(I);const q=({formFields:s,setFlow:e,flow:t,allIntegURL:f})=>{const h=k(),[n,p]=o.useState(1),[b,l]=o.useState(!1),[x,v]=o.useState({show:!1}),j=M(),[a,r]=o.useState({name:"CustomAction",type:"CustomAction",randomFileName:j,defaultValue:`<?php if (!defined('ABSPATH')) {exit;} 
    
  function yourFunctionName($trigger){
    $trigger['yourKey'];
    //write here your custom function
  }  
  yourFunctionName($trigger);`,value:""});o.useEffect(()=>{const u=c({},a);delete u.isValid,r(c({},u))},[a==null?void 0:a.value]);const C=()=>{setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),p(2)};return i.jsxs("div",{children:[i.jsx(A,{snack:x,setSnackbar:v}),i.jsx("div",{className:"txt-center mt-2",children:i.jsx(E,{step:2,active:n})}),i.jsxs("div",{className:"btcd-stp-page",style:c({},n===1&&{width:"70%",height:"auto",overflow:"visible"}),children:[i.jsx("h1",{children:"custom action"}),i.jsx(_,{customActionConf:a,setCustomActionConf:r,formFields:s}),i.jsx("button",{onClick:()=>T(a,r,l),disabled:!a.value,className:"btn f-left btcd-btn-lg green sh-sm flx mt-5",type:"button",children:g("Validated ","bit-integrations")}),i.jsxs("button",{onClick:()=>C(),disabled:!a.isValid,className:"btn f-right btcd-btn-lg green sh-sm flx mt-5",type:"button",children:[g("Next","bit-integrations")," ","Â ",i.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),i.jsx("div",{className:"btcd-stp-page",style:{width:n===2&&"100%",height:n===2&&"auto"},children:i.jsx(V,{step:n,saveConfig:()=>F(t,e,f,a,h,"","",l),isLoading:b})})]})};export{q as default};
